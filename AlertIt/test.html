<!doctype html>

<head>
    <meta charset="utf-8">
    <title>My Parse App</title>
    <meta name="description" content="My Parse App">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/styles.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.4.0.min.js"></script>
</head>

<body>
    <div id="main">
        <h1>You're ready to use Parse!</h1>
        <p>Read the documentation and start building your JavaScript app:</p>
        <ul>
            <li><a href="https://www.parse.com/docs/js_guide">Parse JavaScript Guide</a></li>
            <li><a href="https://www.parse.com/docs/js">Parse JavaScript API Documentation</a></li>
        </ul>
        <div style="display:none" class="error">
            Looks like there was a problem saving the test object. Make sure you've set your application ID and javascript key correctly in the call to <code>Parse.initialize</code> in this file.
        </div>
        <div style="display:none" class="success">
            <p>We've also just created your first object using the following code:</p>
            <code>
        </code>
        </div>
    </div>
    <script type="text/javascript">

var rebalanceObj = {
    "VAR_OUT": {
        "0": {
            "CURRENT_LOC": "TX01",
            "DEST_LON": "30.25",
            "DEST_LAT": "-97.75",
            "CURRENT_BOH": "4050",
            "SHORT_QTY": "3570",
            "ALTERNATIVE_LOC": "CNA9",
            "SOURCE_LON": "39.91",
            "SOURCE_LAT": "116.38",
            "LOCAL_BOH": "13450",
            "TRANSFERABLE_QTY": "3698",
            "REBALANCE_QTY": "3570",
            "DISTANCE_KM": "16242",
            "TRANSIT_HRS": "162",
            "TRANSIT_COST": "57984"
        },
        "1": {
            "CURRENT_LOC": "TX01",
            "DEST_LON": "30.25",
            "DEST_LAT": "-97.75",
            "CURRENT_BOH": "4050",
            "SHORT_QTY": "3570",
            "ALTERNATIVE_LOC": "543619",
            "SOURCE_LON": "51.55",
            "SOURCE_LAT": "5.08",
            "LOCAL_BOH": "2700",
            "TRANSFERABLE_QTY": "548",
            "REBALANCE_QTY": "548",
            "DISTANCE_KM": "11369",
            "TRANSIT_HRS": "114",
            "TRANSIT_COST": "6230"
        },
        "2": {
            "CURRENT_LOC": "TX01",
            "DEST_LON": "30.25",
            "DEST_LAT": "-97.75",
            "CURRENT_BOH": "4050",
            "SHORT_QTY": "3570",
            "ALTERNATIVE_LOC": "NLA3",
            "SOURCE_LON": "52.3667",
            "SOURCE_LAT": "4.9",
            "LOCAL_BOH": "2974",
            "TRANSFERABLE_QTY": "149",
            "REBALANCE_QTY": "149",
            "DISTANCE_KM": "11344",
            "TRANSIT_HRS": "113",
            "TRANSIT_COST": "1690"
        }
    }
}










    Parse.initialize("ZE5mlwPvUI14xoOR2GQBca6vq4vFhUYmtTMduetX", "TfixkqhDQBJKhwCoCEl1l4q1hnxXK974plFUxkMc");

    var Rebalance = Parse.Object.extend("Rebalance");
    var rebalance = new Rebalance();
    rebalance.set("data", rebalanceObj);
    rebalance.save(null, {
      success: function(rebalance) {
            Parse.Push.send({
            channels: ["Rebalance"],
            data: {
                alert: "Please review the rebalance for MM " + "1086" + " at " + "TX01",
                currentLoc: "CNA9",
                snapshotWW: "201440",
                mm: "1076",
                index: "1",
                id: rebalance.id
            }
        }, {
            success: function() {
                // Push was successful
            },
            error: function(error) {
            }
        });
      },
      error: function(rebalance, error) {
      }
    });

    </script>
</body>

</html>
